# Варіант 6. Реалізуйте алгоритм Isolation Forest для виявлення аномальних сплесків споживання енергії у великих наборах даних. Порівняйте його ефективність із методами статистичного виявлення викидів (z-score, IQR). Створіть графік, що показує аномальні сплески на часових рядах.

 Аналіз виводу в консолі:  
 Isolation Forest anomalies: {1: 980, -1: 20}  
 Z-Score anomalies: 16   
 IQR anomalies: 26

 Isolation Forest ідеально виявив 20 аномалій.   
Z-Score недооцінив, виявивши лише 16 аномалій.  
IQR переоцінив, виявивши 26 аномалій.   

Аналіз графіку:   
Графік показує споживання енергії з часом (з 1 січня 2024 року до початку лютого 2024 року) з позначеними аномаліями для кожного методу:  

Синя лінія: Споживання енергії, яке здебільшого коливається навколо 50, але має помітні сплески (аномалії).  
Червоні кола (Isolation Forest): Позначають 20 точок, переважно відповідних найбільшим сплескам у споживанні енергії (наприклад, близько 300, 200 і 150).  
Фіолетові квадрати (IQR): Позначають 26 точок, включаючи великі сплески, але також деякі менші (наприклад, близько 100).   
Зелені хрестики (Z-Score): Позначають 16 точок, переважно найбільші сплески, але пропускають деякі, які виявили інші методи.  
 ![Графік аномалій](https://github.com/KPILabWorks/Voronkova_Elizaveta_TV-21/blob/main/Pr4/Снимок%20экрана%202025-04-02%20в%2017.54.55.png?raw=true)

Висновок   
-  Isolation Forest показав найкращий результат у цьому сценарії, виявивши точно 20 справжніх аномалій без помилкових позитивних. Його здатність адаптуватися до даних без припущення про розподіл, разом із правильно налаштованим параметром contamination, зробила його найефективнішим методом тут.
-  Z-Score був найбільш консервативним, виявивши лише 16 аномалій і пропустивши 4 справжні. Хоча він уникнув помилкових позитивних, його суворий поріг (3 стандартні відхилення) зробив його менш чутливим до деяких аномалій.
-  IQR був найбільш агресивним, виявивши 26 аномалій, включаючи всі 20 справжніх, але також 6 помилкових позитивних. Це свідчить, що правило 1.5*IQR може бути занадто широким для цього датасету, позначаючи точки, які не є дійсно аномальними.
